#!/usr/bin/env python
PACKAGE = "wego"

from dynamic_reconfigure.parameter_generator_catkin import *

gen = ParameterGenerator()

# ===== LiDAR Scan Parameters =====
gen.add("scan_angle", double_t, 0, "Scan angle (+-degrees from front)", 30.0, 10.0, 90.0)
gen.add("num_sectors", int_t, 0, "Number of sectors to divide scan", 12, 4, 24)

# ===== Distance Thresholds =====
gen.add("safe_distance", double_t, 0, "Safe distance (gap is open if >= this)", 0.5, 0.2, 2.0)
gen.add("stop_distance", double_t, 0, "Emergency stop distance", 0.2, 0.05, 0.5)

# ===== Speed Parameters =====
# base_speed는 lane_detect_node에서 관리
gen.add("avoid_speed", double_t, 0, "Speed during avoidance", 0.2, 0.0, 1.0)

# ===== Steering Parameters =====
gen.add("max_steering", double_t, 0, "Maximum steering angular velocity", 0.5, 0.0, 1.0)
gen.add("steering_gain", double_t, 0, "Gain for angle to steering conversion", 0.02, 0.005, 0.1)

# ===== Hysteresis Parameters =====
gen.add("clear_threshold", int_t, 0, "Clear count threshold for returning to lane tracing", 20, 5, 50)

exit(gen.generate(PACKAGE, "obstacle_avoid_node", "ObstacleAvoid"))
